@page "/Login"
@using ToDoListBlazorClient.Services.Contracts
@inject IAccountService AccountService;
@inject NavigationManager NavigationManager;
<h3>Login</h3>


<form @onsubmit="Submit">
    <div class="form-group mb-3">
        <label for="exampleInputEmail1">Email address</label>
        <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" @bind="login.Email">
    </div>
    <div class="form-group mb-3">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password" name="password" @bind="login.Password">
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>


@code {
    private readonly LoginDto login = new();

    private async void Submit()
    {
        if (await AccountService.SignInAsync(login) is not null)
        {
            NavigationManager.NavigateTo("/");
        }
        ;
    }

}